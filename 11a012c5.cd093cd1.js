(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{137:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var a=n(0),i=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=i.a.createContext({}),m=function(e){var t=i.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=m(e.components);return i.a.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},h=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),b=m(n),h=a,d=b["".concat(s,".").concat(h)]||b[h]||l[h]||o;return n?i.a.createElement(d,c(c({ref:t},p),{},{components:n})):i.a.createElement(d,c({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=h;var c={};for(var r in t)hasOwnProperty.call(t,r)&&(c[r]=t[r]);c.originalType=e,c.mdxType="string"==typeof e?e:a,s[1]=c;for(var p=2;p<o;p++)s[p]=n[p];return i.a.createElement.apply(null,s)}return i.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},63:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return m}));var a=n(2),i=n(6),o=(n(0),n(137)),s={id:"wsk",title:"nim vs wsk",sidebar_label:"nim vs wsk"},c={unversionedId:"wsk",id:"wsk",isDocsHomePage:!1,title:"nim vs wsk",description:"Information for OpenWhisk developers",source:"@site/docs/nim-vs-wsk.md",slug:"/wsk",permalink:"/docs/docs/wsk",editUrl:"https://github.com/nimbella/docs/edit/master/docs/nim-vs-wsk.md",version:"current",sidebar_label:"nim vs wsk",sidebar:"someSidebar",previous:{title:"Command Summary",permalink:"/docs/docs/commandSummary"},next:{title:"Workbench",permalink:"/docs/docs/workbench"}},r=[{value:"Information for OpenWhisk developers",id:"information-for-openwhisk-developers",children:[{value:"Using the Nimbella stack with an OpenWhisk installation",id:"using-the-nimbella-stack-with-an-openwhisk-installation",children:[]},{value:"Credential management commands in nim vs. wsk",id:"credential-management-commands-in-nim-vs-wsk",children:[]},{value:"Project commands in nim vs. wsk",id:"project-commands-in-nim-vs-wsk",children:[]},{value:"Entity management commands in nim vs. wsk",id:"entity-management-commands-in-nim-vs-wsk",children:[]},{value:"Using Whisk commands in switching namespaces",id:"using-whisk-commands-in-switching-namespaces",children:[]},{value:"Working with other OpenWhisk hosts",id:"working-with-other-openwhisk-hosts",children:[]},{value:"Nimbella actions and OpenWhisk",id:"nimbella-actions-and-openwhisk",children:[]},{value:"Annotations by the Nimbella deployer",id:"annotations-by-the-nimbella-deployer",children:[]},{value:"Project configuration",id:"project-configuration",children:[]}]}],p={rightToc:r};function m(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"information-for-openwhisk-developers"},"Information for OpenWhisk developers"),Object(o.b)("p",null,"Nimbella powers the \u201cserverless computing\u201d portion of its offering with a modified version of ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://openwhisk.org/"}),"Apache OpenWhisk"),". If you\u2019re familiar with the OpenWhisk platform, you\u2019ll recognize many similarities and some differences in the Nimbella commands and concepts. We\u2019ll cover some of them here."),Object(o.b)("p",null,"In Nimbella, as in OpenWhisk, the unit of authorization is called a ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/reference.md#namespaces-and-packages"}),"namespace")),". As in all OpenWhisk deployments, a namespace contains ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/actions.md"}),"actions")," that are optionally grouped into ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/packages.md"}),"packages")),"."),Object(o.b)("p",null,"OpenWhisk has additional entities called ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/triggers_rules.md"}),"rules")),", ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/triggers_rules.md"}),"triggers")),", ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/apigateway.md"}),"routes"))," (the \u201cAPI gateway\u201d), and ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/actions.md"}),"activations")),". The ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," command supports these entities when used individually, but not as part of a project."),Object(o.b)("h3",{id:"using-the-nimbella-stack-with-an-openwhisk-installation"},"Using the Nimbella stack with an OpenWhisk installation"),Object(o.b)("p",null,"If you\u2019re using ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," with some other OpenWhisk installation and using ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," with the Nimbella stack, they will not interfere with each other. If you want to use ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," with the Nimbella stack, you can, but you should set the environment variable ",Object(o.b)("inlineCode",{parentName:"p"},"WSK_CONFIG_FILE=$HOME/.nimbella/wskprops")," so that ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," will use it instead of the ",Object(o.b)("inlineCode",{parentName:"p"},"~/.wskprops"),". This does not affect ",Object(o.b)("inlineCode",{parentName:"p"},"nim"),", which ignores ",Object(o.b)("inlineCode",{parentName:"p"},"WSK_CONFIG_FILE"),". If you sometimes use ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," with a different installation and sometimes with Nimbella, you have to change the environment accordingly."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note:")," Although ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," uses the OpenWhisk Node.js client internally, it takes steps to nullify the effect of any ",Object(o.b)("inlineCode",{parentName:"p"},"__OW_*")," variables in the environment to prevent collisions with other uses of the client."),Object(o.b)("h3",{id:"credential-management-commands-in-nim-vs-wsk"},"Credential management commands in nim vs. wsk"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," command doesn\u2019t read or write ",Object(o.b)("inlineCode",{parentName:"p"},"~/.wskprops")," the way the ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," binary does but instead replaces it with a more flexible ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/namespaces#view-the-credential-store"}),"credential store"),". The ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," command does maintain the file ",Object(o.b)("inlineCode",{parentName:"p"},"~/.nimbella/wskprops")," in sync with the credential store. This file has the same format as ",Object(o.b)("inlineCode",{parentName:"p"},"~/.wskprops")," and applies to the currently selected namespace."),Object(o.b)("p",null,"See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/namespaces#credential-management-to-access-nimbella-namespaces"}),"Credential Management to Access Nimbella Namespaces"),"."),Object(o.b)("h3",{id:"project-commands-in-nim-vs-wsk"},"Project commands in nim vs. wsk"),Object(o.b)("p",null,"Note that the ",Object(o.b)("inlineCode",{parentName:"p"},"project")," command of ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," is not a replacement for the ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," project. See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"projects#about-nimbella-projects"}),"About Nimbella Projects"),"."),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"project")," ",Object(o.b)("inlineCode",{parentName:"p"},"deploy and project watch "),"commands can operate on a logical grouping of OpenWhisk entities as well as other types of resources."),Object(o.b)("p",null,"See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/commands#project-level-deployment-commands"}),"Project-Level Deployment Commands"),"."),Object(o.b)("h3",{id:"entity-management-commands-in-nim-vs-wsk"},"Entity management commands in nim vs. wsk"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"action"),", ",Object(o.b)("inlineCode",{parentName:"p"},"activation"),", ",Object(o.b)("inlineCode",{parentName:"p"},"namespace"),", ",Object(o.b)("inlineCode",{parentName:"p"},"package"),", ",Object(o.b)("inlineCode",{parentName:"p"},"route"),", ",Object(o.b)("inlineCode",{parentName:"p"},"rule")," and ",Object(o.b)("inlineCode",{parentName:"p"},"trigger")," commands in nim each manage the corresponding type of entity as defined by Apache OpenWhisk. The syntax for these seven commands approximates that of like-named commands of the ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," binary provided by the Apache OpenWhisk project, except that ",Object(o.b)("inlineCode",{parentName:"p"},"route")," is used in place of api. The implementation of these commands is derived from the Adobe I/O Runtime open source project."),Object(o.b)("p",null,"See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/commands#entity-management-commands"}),"Entity Management Commands"),"."),Object(o.b)("h3",{id:"using-whisk-commands-in-switching-namespaces"},"Using Whisk commands in switching namespaces"),Object(o.b)("p",null,"If you use the ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," command in conjunction with nim, note that the file ~/.nimbella/wskprops (",Object(o.b)("em",{parentName:"p"},"not")," ~/.wskprops) is updated on every switch of the target namespace via ",Object(o.b)("inlineCode",{parentName:"p"},"nim auth"),". You can connect your ",Object(o.b)("inlineCode",{parentName:"p"},"wsk")," to this Nimbella-maintained property file using the ",Object(o.b)("inlineCode",{parentName:"p"},"WSK_CONFIG_FILE")," environment variable."),Object(o.b)("h3",{id:"working-with-other-openwhisk-hosts"},"Working with other OpenWhisk hosts"),Object(o.b)("p",null,"Usually, a Nimbella developer has just one API host and all namespaces use the same one, but multiple API hosts can be accommodated as well."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"If all of your namespaces have unique names, if some are on different API hosts, the API host is automatically switched when you switch the namespace."),Object(o.b)("li",{parentName:"ul"},"If you happen to have identically named namespaces on different API hosts, then you must use the ",Object(o.b)("inlineCode",{parentName:"li"},"--apihost")," flag to disambiguate. Substitute the URL of your API host in the following examples.")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"> nim auth switch <namespace> --apihost <API host>\n> nim project deploy <projectPath>... --target <namespace> --apihost <API host>\n")),Object(o.b)("h3",{id:"nimbella-actions-and-openwhisk"},"Nimbella actions and OpenWhisk"),Object(o.b)("p",null,"The term ",Object(o.b)("em",{parentName:"p"},"action")," is used to denote a serverless function, following ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://openwhisk.org/"}),"Apache OpenWhisk")," terminology, because the Nimbella stack builds on OpenWhisk. Actions are by default OpenWhisk ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/openwhisk/openwhisk/blob/master/docs/webactions.md"}),"web action"),", which means the action is publicly accessible via a URL unless the project is configured. See xxx for information about how to construct the URL for a web action."),Object(o.b)("p",null,"In Nimbella, as in OpenWhisk, the unit of authorization is called a ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/reference.md#namespaces-and-packages"}),"namespace")),". As in all OpenWhisk deployments, a namespace contains ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/actions.md"}),"actions")," that are optionally grouped into ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/packages.md"}),"packages")),". (OpenWhisk has additional entities called ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/triggers_rules.md"}),"rules")),", ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/triggers_rules.md"}),"triggers")),", ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/apigateway.md"}),"routes"))," (aka \u201cAPI gateway\u201d), and ",Object(o.b)("em",{parentName:"p"},Object(o.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/actions.md"}),"activations")),"; the ",Object(o.b)("inlineCode",{parentName:"p"},"nim")," command supports these individually but not as part of a project."),Object(o.b)("p",null,"Going beyond OpenWhisk, a Nimbella namespace contains additional resources, such as object store buckets for web content and database instances, which are managed as part of the namespace. The ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/namespaces#create-a-nimbella-namespace"}),"Create a Nimbella Namespace")," section explains how to obtain your first namespace. The ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/namespaces#create-and-manage-multiple-namespaces"}),"Create and Manage Multiple Namespaces")," section discusses how to obtain and manage additional namespaces."),Object(o.b)("h3",{id:"annotations-by-the-nimbella-deployer"},"Annotations by the Nimbella deployer"),Object(o.b)("p",null,"OpenWhisk supports ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/apache/incubator-openwhisk/blob/master/docs/annotations.md"}),"annotations")," on actions and packages. The deployer generates an annotation of its own in each action and package that it deploys. See ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/docs/deployerFeature#deployer-recordkeeping"}),"Deployer Recordkeeping"),"."),Object(o.b)("h3",{id:"project-configuration"},"Project configuration"),Object(o.b)("p",null,"Here are some notes for ",Object(o.b)("inlineCode",{parentName:"p"},"project.yml")," configuration file modifiers if you\u2019re familiar with OpenWhisk."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The ",Object(o.b)("inlineCode",{parentName:"li"},"webSecure")," action modifier has the same semantics that ",Object(o.b)("inlineCode",{parentName:"li"},"--web-secure")," has in the ",Object(o.b)("inlineCode",{parentName:"li"},"wsk action create")," command in OpenWhisk. (The ",Object(o.b)("inlineCode",{parentName:"li"},"nim action create")," command does not offer a similar flag). It generates the ",Object(o.b)("inlineCode",{parentName:"li"},"require-whisk-auth")," annotation according to whether you specify ",Object(o.b)("inlineCode",{parentName:"li"},"false")," (the default), a string value (a secret you select) or ",Object(o.b)("inlineCode",{parentName:"li"},"true"),".")))}m.isMDXComponent=!0}}]);