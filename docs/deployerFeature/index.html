<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">Deployer Feature | Nimbella Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Deployer Feature | Nimbella Docs"><meta data-react-helmet="true" name="description" content="About the Nimbella deployer"><meta data-react-helmet="true" property="og:description" content="About the Nimbella deployer"><meta data-react-helmet="true" property="og:url" content="https://niks3089.github.io/docs/docs/deployerFeature"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://niks3089.github.io/docs/docs/deployerFeature"><link rel="stylesheet" href="/docs/styles.a2520ece.css">
<link rel="preload" href="/docs/styles.a20a6309.js" as="script">
<link rel="preload" href="/docs/runtime~main.80f5ba18.js" as="script">
<link rel="preload" href="/docs/main.a1e2a0a5.js" as="script">
<link rel="preload" href="/docs/1.fb0ac71d.js" as="script">
<link rel="preload" href="/docs/2.d4a99579.js" as="script">
<link rel="preload" href="/docs/79.5510b0e3.js" as="script">
<link rel="preload" href="/docs/80.52045ce4.js" as="script">
<link rel="preload" href="/docs/935f2afb.36f64fce.js" as="script">
<link rel="preload" href="/docs/17896441.1a30ac6f.js" as="script">
<link rel="preload" href="/docs/ac910b5c.a1a170f5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="Nimbella Docs Logo"><strong class="navbar__title">Nimbella Docs</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/">Docs</a><a class="navbar__item navbar__link" href="/docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nimbella/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/docs/"><img class="navbar__logo" src="/docs/img/logo.svg" alt="Nimbella Docs Logo"><strong class="navbar__title">Nimbella Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/nimbella/docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/whatIsNimbella">What is Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/serverless">Why Serverless</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/serverlessVSServer">Serverless Vs Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/servelessApps">Serverless Apps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/whyNimbella">Why Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/account">Nimbella Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/features">Nimbella Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/openwhisk">Openwhisk</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Nimbella Project</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/deployerOverview">Deployer Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/projects">Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/namespaces">Namespace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/actions">Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/project">Nimbella Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/configuration">Project Configuration</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/docs/deployerFeature">Deployer Feature</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/singleAction">Single Action Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/namespaceToProjects">Tieing Namespaces to Projects</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Serverless SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/keyValueSDK">Key Value SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/webSDK">Web SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/objectSDK">Object Store SDK</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Runtime &amp; Languages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/runtime">Runtime and Languages</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/install">Install CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/commands">Nim Commands</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flags">Command Flags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/commandSummary">Command Summary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/wsk">nim vs wsk</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Workbench</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/workbench">Workbench</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/gettingStarted">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/building">Building</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developing and Deploying Serverless APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/agnostic">Developing &amp; Deploying Serverless APIs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/nodejs">NodeJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/python">Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/go">GoLang</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developing &amp; Deploying Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/web">Developing &amp; Deploying Web</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/webContent">Web Content</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Taking your application to production</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/production">Taking your application to production</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/commander">Commander</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/postman">Postman</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/netlify">Netlify</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Porting existing applications onto Nimbella</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/heroku">Heroku to Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/express">Express to Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/django">Django to Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/flask">Flask to Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/lambda">Lambda to Nimbella</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/openwhiskPort">Openwhisk to Nimbella</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/">Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/doc2">Document Number 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/doc3">This is Document Number 3</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docs/mdx">Powered by MDX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Deployer Feature</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="about-the-nimbella-deployer"></a>About the Nimbella deployer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#about-the-nimbella-deployer" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="nimbella-deployer-supported-runtimes-for-actions"></a>Nimbella deployer supported runtimes for actions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nimbella-deployer-supported-runtimes-for-actions" title="Direct link to heading">#</a></h3><p>The Nimbella deployer determines the kind of runtime required for the action from the file suffix. The following runtimes are supported:</p><ul><li>Node.js for suffix <em>.js</em></li><li>Typescript for suffix <em>.ts</em></li><li>Python for suffix <em>.py</em></li><li>Java for suffixes <em>.java</em> and <em>.jar</em></li><li>Swift suffix <em>.swift</em></li><li>PHP for suffix <em>.php</em></li><li>Go for suffix <em>.go</em></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deploying-projects-incrementally"></a>Deploying projects incrementally<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploying-projects-incrementally" title="Direct link to heading">#</a></h3><p>Instead of deploying your entire project each time you make a change to the file contents, you can use incremental deployment to detect and deploy changes in the following:</p><ul><li>Project structure</li><li>Project content</li><li><a href="/docs/docs/configuration">Project configuration</a> (if you have created one)</li></ul><p>This is a great time-saver during project development and also helps <a href="/docs/docs/projects#factors-in-choosing-project-size">facilitate deployment when your project is large</a>.</p><p>Consider the following example of an <code>example4</code> project. The output from standard deployment is shown here:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; nim project deploy example4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deploying project &#x27;/path/to/example4&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  to namespace &#x27;...&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  on host &#x27;https://...nimbella.io&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deployed actions:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - admin/adduser</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - welcome</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - demo/hello</span></div></div></div></div></div><p>Now suppose that youâ€™ve made changes to <code>demo/hello</code> and <code>welcome</code> but not the others. You arenâ€™t ready to do a production deployment or submit for testing, you just want to deploy whatâ€™s changed so you can continue developing.</p><p>To deploy incrementally, use the <code>--incremental</code> flag, as in the following example.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; nim project deploy example4 --incremental</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deploying project &#x27;/path/to/example4&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  to namespace &#x27;...&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  on host &#x27;https://...nimbella.io&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deployed actions:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - welcome</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - demo/hello</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Skipped 1 unchanged action</span></div></div></div></div></div><p>Changes to actions and web content are tracked by means of digests created by the deployer and described in more detail in <a href="#deployer-recordkeeping">Deployer recordkeeping</a>. The deployer skips the uploads of actions and web content whose digests have not changed. Digests are computed over an actionâ€™s contents and also its metadata, so if you use a <a href="/docs/docs/configuration">project configuration</a> file to change the properties of an action, those changes are detected as well.</p><p>The <code>--incremental</code> option also skips rezipping large multi-file actions whose included contents are older than the last zip file.</p><p>The <code>--incremental</code> option is accurate in determining what has changed unless you add build steps. After you add build steps, some heuristics come into play, as discussed in <a href="/docs/docs/building#build-states-and-the-effect-of-incremental-on-builds">Build States and the Effect of --incremental on Builds</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="project-watching-for-incremental-deployment"></a>Project watching for incremental deployment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#project-watching-for-incremental-deployment" title="Direct link to heading">#</a></h4><p>A good way to implement incremental deployment during project development is to use <code>nim project watch</code>. The <code>project watch</code> command typically runs until interrupted in a devoted terminal window so you can work elsewhere, such as in your favorite IDE.</p><p>Hereâ€™s an example of using this command for incremental deployment.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; nim project watch example4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Watching &#x27;example4&#x27; [use Control-C to terminate]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deploying &#x27;example4&#x27; due to change in &#x27;path/to/packages/demo/hello&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Skipped 4 unchanged web resources on</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  https://&lt;namespace&gt;-host.nimbella.io</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deployed actions:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - demo/hello</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deployment complete.  Resuming watch.</span></div></div></div></div></div><p>The <code>project watch</code> command accepts a list of projects and most of the flags that project <code>deploy</code> accepts, as described in <a href="/docs/docs/commands#project-level-deployment-commands">Project-Level Deployment Commands</a>. An exception is <code>--incremental</code>, which is assumed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deploying-portions-of-projects-selectively"></a>Deploying Portions of Projects Selectively<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploying-portions-of-projects-selectively" title="Direct link to heading">#</a></h3><p>There may be occasions when you only want to deploy parts of a project.  If the change-based selection of incremental deployment does not fit your needs, you can control which actions are deployed (and whether web content is deployed) directly from the command line.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Deploy just the web content and no packages</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project deploy printer --include web</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Deploy everything except the admin package</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project deploy printer --exclude admin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># You can use --include and --exclude together</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project deploy printer --include admin,printer --exclude printer/notify</span></div></div></div></div></div><p>The general rule for both <code>--include</code> and <code>--exclude</code> is a comma-separated list of tokens (no whitespace).  The tokens may be</p><ul><li>the special word <code>web</code> referring to the web content of the project</li><li>the name of a package<ul><li>if the package is called <code>web</code>, you should remove ambiguity by using a trailing slash as in <code>web/</code> (a trailing slash is accepted on any package)</li><li>the package name <code>default</code> is used for the actions that are not members of any package</li></ul></li><li>a qualified action name in the form <code>package-name/action-name</code><ul><li>e.g. <code>printer/notify</code> or <code>default/hello</code></li><li>the <code>default/</code> prefix is required for actions not in any package; otherwise, the name will be taken to be a package name</li></ul></li><li>wildcards are <em>not</em> supported</li></ul><p>If you specify only <code>--include</code>, then only the listed project portions are deployed.  If you specify only <code>--exclude</code>, then <em>all but</em> the listed project portions are deployed.  If you specify both flags, the deployer first includes only what is listed in <code>--include</code> and then excludes from that list.  This allows you to include a package while excluding one or more of its actions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deploying-directly-from-github"></a>Deploying Directly from GitHub<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploying-directly-from-github" title="Direct link to heading">#</a></h3><p>If you have Nimbella projects in a GitHub repository, you can deploy directly from GitHub without the need to create a local clone.  If you do have a local clone, you can deploy as needed from the clone or directly from GitHub.  For example, deploy from the clone to include your local modifications.  Deploy from GitHub to ignore your local modifications and restore the deployed code to what is in the remote repository.</p><p>The <code>nim</code> command does not get involved in keeping your clone in synch with the repository; that is up to you as a developer.</p><p>To indicate you want to deploy from GitHub, use a project path that starts with one of the following.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">github:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">git@github.com:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://github.com/</span></div></div></div></div></div><p>The deployer supports all three prefix styles to align with developer habits and URLs copied from elsewhere: all three are equivalent and authenticate to GitHub in exactly the same way.</p><p>You follow the prefix with the &quot;owner&quot; (GitHub account), repository, path to the project within the repository (if any), and specific branch or commit (if not <code>master</code>).   For example,</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project deploy github:nimbella/demo-projects/visits</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project deploy git@github.com:/my-account/my-repo-with-project/#dev</span></div></div></div></div></div><p>The deployer does not use SSL public/private keys or username/password authentication.  It relies on tokens issued for you by GitHub.  If you obtained your Nimbella account using your GitHub account for identification, there is <em>probably</em> already a GitHub token stored as part of your Nimbella credentials (this depends on the details of account provisioning).</p><p>You can check GitHub accounts for which you have tokens in your Nimbella credential store by issuing</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim auth github --list</span></div></div></div></div></div><p>If you do not have any GitHub account registered then <code>nim project deploy</code> will (by default) refuse to deploy from github.  You can override this behavior using (e.g.)</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim project github:nimbella/demo-projects/visits --anon-github</span></div></div></div></div></div><p>However, GitHub imposes severe rate limitations on anonymous access.  Many projects that you will want to deploy will be large enough that you will hit this limit routinely.  Also, you will be unable to deploy from private repos.  So, this option is really for exploring the capability only.   To really use the capability in serious development, you must have a GitHub account.  If you have one (or once you have one) you can add it to your Nimbella credentials using</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">nim auth github --initial</span></div></div></div></div></div><p>A web page will open for you in your default browser, allowing you to login securely to GitHub for verification.  At the end of that process, you will have a GitHub token.</p><p>At present, deploying from GitHub has these additional limitations.</p><ul><li>the <code>--incremental</code> option is not available.</li><li>the <code>project watch</code> command does not work when deploying from GitHub</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deployer-recordkeeping"></a>Deployer recordkeeping<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deployer-recordkeeping" title="Direct link to heading">#</a></h3><p>The deployer creates two types of audit trails:</p><ol><li>One for actions and packages deployed to your namespace</li><li>One for actions, packages and web content in your local project.</li></ol><p>Weâ€™ll describe each type and show how they differ and how they can be used for comparison.</p><p>Note that the local audit trail is not available when you deploy from GitHub.  Even if you have a local clone of the GitHub repository, the deployer does not know this and does not get involved in GitHub synchronization.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="annotations-for-actions-and-packages-deployed-to-your-namespace"></a>Annotations for actions and packages deployed to your namespace<a aria-hidden="true" tabindex="-1" class="hash-link" href="#annotations-for-actions-and-packages-deployed-to-your-namespace" title="Direct link to heading">#</a></h4><p>Version numbers for actions and packages are incremented on each update, and the <code>action get</code> command retrieves information about a deployed package or action in your namespace.</p><p><strong>Note:</strong> Web content does not have version numbers. Its changes are tracked by maintaining content digests of the current files on your local system versus the latest-deployed files from the project. See <a href="#recordkeeping-in-your-local-project">Recordkeeping in your local project</a> for an example.</p><p>As shown in the following example, the <code>action get</code> command output shows the namespace, the name of the action or package, and and its version in the namespace. In addition, the command output displays the annotation data that the the deployer generates in each action and package it deploys. If your project is managed by git, the annotations contain a variety of information about the storage in your git repository, as described below. If your project isnâ€™t managed by git, it contains the project path and the user who created the project.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="typical-action-get-command-output"></a>Typical action get command output<a aria-hidden="true" tabindex="-1" class="hash-link" href="#typical-action-get-command-output" title="Direct link to heading">#</a></h5><p>In this example, the <code>action get</code> command retrieves the annotation for the <code>demo/hello</code> action from <a href="/docs/docs/singleAction">example1</a>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; nim action get demo/hello</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;namespace&quot;: &quot;.../demo&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;name&quot;: &quot;hello&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;version&quot;: &quot;0.0.1&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;annotations&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;key&quot;: &quot;deployer&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;value&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;repository&quot;: &quot;...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;commit&quot;: &quot;...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;digest&quot;: &quot;...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;projectPath&quot;: &quot;...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;user&quot;: &quot;...&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>In the first section of output:</p><ul><li><code>namespace</code> shows the namespace name plus the projectâ€™s package name.</li><li><code>name</code> shows the name of the action.</li><li><code>version</code> shows the version of the action thatâ€™s in your namespace.
This is the version that youâ€™d compare with the version in <code>/path/to/example1/.nimbella/versions</code> to see if they match. If they do not, youâ€™d then start looking for another project that may have placed that file there.</li></ul><p>The <code>annotations</code> details for the key <code>deployer</code> vary according to whether the deployed project is under git control.</p><p><strong>If the deployed project is managed by git:</strong></p><ul><li><code>repository</code> is the value given by <code>git config --get remote.origin.url</code>.</li><li><code>commit</code> is the <code>githash</code> of the most recent commit, with<code> ++</code> added if the working copy contains uncommitted changes.</li><li><code>digest</code> is the digest of the code and the metadata of either the action or the package (the same value that is stored locally for controlling incremental deployment).</li><li><code>projectPath</code> is the path of the project within the repository clone, relative to the repository root.</li><li><code>user</code> is the value given by <code>git config --get user.email</code>.</li></ul><p><strong>If the deployed project does not appear to be under git control:</strong></p><ul><li>The <code>repository</code> and <code>commit</code> fields are omitted.</li><li><code>digest</code> is the digest of the code and the metadata of either the action or the package (the same value that is stored locally for controlling incremental deployment).</li><li>The <code>projectPath</code> is absolute.</li><li><code>user</code> is the local user name according to the operating system.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="recordkeeping-in-your-local-project"></a>Recordkeeping in your local project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#recordkeeping-in-your-local-project" title="Direct link to heading">#</a></h4><p>The deployer records information about your local project in a single file called <code>versions.json</code> in a project subdirectory named <code>.nimbella</code>. For actions and packages, the deployer records the last-deployed version in your local project. For actions, packages, and web content, the deployer also creates digests, which are used for <a href="#deploying-projects-incrementally">incremental deployment</a>.
Looking at the information in <code>versions.json</code> answers the question <em>â€œWhat did you last put in the namespace using this project?&quot;</em></p><p><strong>Note:</strong> Do not edit any files in the <code>.nimbella</code> directory.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="typical-versionsjson-file-content"></a>Typical versions.json file content<a aria-hidden="true" tabindex="-1" class="hash-link" href="#typical-versionsjson-file-content" title="Direct link to heading">#</a></h5><p>The <code>versions.json_</code>entries for packages and actions look something like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;apihost&quot;: &quot;https://...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;namespace&quot;: &quot;...&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;packageVersions&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;demo&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;version&quot;: &quot;0.0.1&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;digest&quot;: &quot;ab87f791f2d2...&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;actionVersions&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;demo/hello&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;version&quot;: &quot;0.0.3&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;digest&quot;: &quot;ca5b7a03c1bb...&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>In this example, you can see that there are separate status entries for the package <code>demo</code> and the action <code>demo/hello</code>. The entry for the package and for each action includes both a <code>version</code> field, showing the last-deployed version number, and a <code>digest</code> field, which is used to control <a href="#deploying-projects-incrementally">incremental deployment</a>. The package and action versions often differ because the package version reflects (re)deployments of the package metadata and not whether or not contained actions were (re)deployed.</p><p>If you have also deployed static web content, the <code>versions.json</code> file has a <code>webHashes</code> entry with digest information about each web file, something like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;webHashes&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;qrcode/web/index.html&quot;: &quot;56bc228c3f5b8a33e59224bdadd8a7d8674dbc1e774a97af4cb62a355f585276&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;qrcode/web/logo.png&quot;: &quot;302f6b60c3b73ac23df07e528d14ef740576ac5966cdd5ea4884f03d0a532a71&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="comparing-versions-in-your-namespace-versus-local-project"></a>Comparing versions in your namespace versus local project<a aria-hidden="true" tabindex="-1" class="hash-link" href="#comparing-versions-in-your-namespace-versus-local-project" title="Direct link to heading">#</a></h4><p>The namespace vs. local project recordkeeping is particularly useful for comparing version numbers between the local copy of the project and whatâ€™s actually in your namespace. For example, as described in <a href="/docs/docs/projects#factors-in-choosing-project-boundaries">Factors in choosing project boundaries</a>, there can be collisions between different projects trying to install the same resource. If you use the <code>action get</code> command and find that the<code> demo/hello</code> action in your namespace is at version <code>0.0.2</code> while the <code>.nimbella/versions.json</code> content tell you that the deployer last deployed version <code>0.0.1</code> from your local project, it means that the action was updated in your namespace outside the deployer or by some other project or copy of this project. At that point, you might have to inspect the deployed action further to disambiguate the two versions.</p><p><strong>Notes:</strong></p><ul><li>If you have a <a href="/docs/docs/configuration">project configuration</a> that uses one of the options to clean an action, package or namespace prior to deploying, then the version numbering of the cleaned action starts over again at <code>0.0.1</code>.</li><li>If you deploy to different namespaces or API hosts at different times, the array in <code>versions.json</code> will have more than one entry, with versions for the last deployment to each distinct API host/namespace target.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nimbella/docs/edit/master/docs/deployer-features.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docs/configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Project Configuration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/docs/singleAction"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Single Action Example Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about-the-nimbella-deployer" class="table-of-contents__link">About the Nimbella deployer</a><ul><li><a href="#nimbella-deployer-supported-runtimes-for-actions" class="table-of-contents__link">Nimbella deployer supported runtimes for actions</a></li><li><a href="#deploying-projects-incrementally" class="table-of-contents__link">Deploying projects incrementally</a></li><li><a href="#deploying-portions-of-projects-selectively" class="table-of-contents__link">Deploying Portions of Projects Selectively</a></li><li><a href="#deploying-directly-from-github" class="table-of-contents__link">Deploying Directly from GitHub</a></li><li><a href="#deployer-recordkeeping" class="table-of-contents__link">Deployer recordkeeping</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/nimbella" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://nimbella.com/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/nimbella" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/nimbella/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Nimbella, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/styles.a20a6309.js"></script>
<script src="/docs/runtime~main.80f5ba18.js"></script>
<script src="/docs/main.a1e2a0a5.js"></script>
<script src="/docs/1.fb0ac71d.js"></script>
<script src="/docs/2.d4a99579.js"></script>
<script src="/docs/79.5510b0e3.js"></script>
<script src="/docs/80.52045ce4.js"></script>
<script src="/docs/935f2afb.36f64fce.js"></script>
<script src="/docs/17896441.1a30ac6f.js"></script>
<script src="/docs/ac910b5c.a1a170f5.js"></script>
</body>
</html>